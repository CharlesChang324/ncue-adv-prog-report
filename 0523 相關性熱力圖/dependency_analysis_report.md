# 機器故障數據相依性分析報告

## 1. 數據概述

本分析使用機器故障預測數據集，包含以下變數：

- 連續變數：
  - 轉速 (Rotational speed [rpm])
  - 扭矩 (Torque [Nm])
  - 工具磨損時間 (Tool wear [min])
- 類別變數：
  - 工具磨損故障 (TWF)
  - 熱耗散故障 (HDF)
  - 功率故障 (PWF)
  - 過應變故障 (OSF)
  - 機器故障 (Machine failure)

## 2. 分析方法

本分析採用多種相依性檢測方法：

1. Pearson 相關係數：用於檢測連續變數間的線性相關
2. Spearman 相關係數：用於檢測連續變數間的非線性相關
3. 點二系列相關係數：用於檢測連續變數與二元變數的相關
4. 卡方檢定：用於檢測類別變數間的相關

## 3. 分析結果

### 3.1 連續變數相關係數

#### Pearson 相關係數

| 變數                   | Rotational speed [rpm] | Torque [Nm] | Tool wear [min] |
| ---------------------- | ---------------------- | ----------- | --------------- |
| Rotational speed [rpm] | 1.000000               | -0.896284   | 0.001777        |
| Torque [Nm]            | -0.896284              | 1.000000    | -0.003309       |
| Tool wear [min]        | 0.001777               | -0.003309   | 1.000000        |

#### Spearman 相關係數

| 變數                   | Rotational speed [rpm] | Torque [Nm] | Tool wear [min] |
| ---------------------- | ---------------------- | ----------- | --------------- |
| Rotational speed [rpm] | 1.000000               | -0.911727   | 0.003007        |
| Torque [Nm]            | -0.911727              | 1.000000    | -0.003697       |
| Tool wear [min]        | 0.003007               | -0.003697   | 1.000000        |

### 3.2 點二系列相關係數（與機器故障）

- 轉速: r = -0.169, p-value = 0.000
- 扭矩: r = 0.236, p-value = 0.000
- 工具磨損時間: r = 0.115, p-value = 0.000

### 3.3 類別變數卡方檢定

- TWF vs HDF: chi2 = 0.000, p-value = 0.983
- TWF vs PWF: chi2 = 0.469, p-value = 0.494
- TWF vs OSF: chi2 = 10.399, p-value = 0.001
- TWF vs Machine failure: chi2 = 1438.331, p-value = 0.000
- HDF vs PWF: chi2 = 7.764, p-value = 0.005
- HDF vs OSF: chi2 = 17.947, p-value = 0.000
- HDF vs Machine failure: chi2 = 3842.370, p-value = 0.000
- PWF vs OSF: chi2 = 120.597, p-value = 0.000
- PWF vs Machine failure: chi2 = 1438.331, p-value = 0.000
- OSF vs Machine failure: chi2 = 3127.639, p-value = 0.000

## 4. 結果評估與判斷

### 4.1 最適合的相依性檢測方法

Spearman 相關係數最能反映資料中的真實關聯，原因如下：

- 顯示出更強的相關性（-0.911727 vs -0.896284）
- 對非線性關係更敏感
- 對離群值不敏感
- 不需要假設數據服從正態分佈

### 4.2 方法一致性分析

結果顯示部分一致，部分不一致：

#### 一致的部分：

- 轉速和扭矩之間存在強負相關
- 工具磨損時間與其他變數的相關性都很弱
- 所有連續變數與機器故障都有顯著相關

#### 不一致的部分：

- Spearman 相關係數顯示出更強的相關性
- 不同故障類型之間的相關性強度差異明顯

不一致的可能原因：

- 數據分佈可能不是完全正態分佈
- 存在非線性關係
- 類別變數之間存在交互作用

### 4.3 推薦的預設關聯性分析工具

建議使用 Spearman 相關係數作為預設工具，原因如下：

- 對非線性關係更敏感
- 對離群值不敏感
- 不需要假設數據服從正態分佈
- 結果更容易解釋
- 在我們的數據中顯示出更強的相關性

### 4.4 資料擴展後的彈性分析

如果資料新增更多變數或改變分佈，以下方法會更具彈性：

1. **Spearman 相關係數**：

   - 可以處理任何單調關係
   - 不受數據分佈影響
   - 對離群值穩健

2. **卡方檢定**：

   - 可以處理多個類別變數
   - 不需要假設數據分佈
   - 可以檢測複雜的類別變數關係

3. **點二系列相關係數**：
   - 可以處理連續變數和二元變數的關係
   - 計算簡單，解釋直觀
   - 對數據分佈要求較低

## 5. 建議

1. 在進行相關性分析時，應該同時使用多種方法進行交叉驗證
2. 對於連續變數，建議先進行數據分佈檢驗
3. 對於類別變數，建議使用卡方檢定和列聯表分析
4. 在報告結果時，應該同時提供相關係數和 p 值，以便讀者判斷相關性的顯著性

## 6. 注意事項

1. 相關性不等於因果性
2. 需要考慮數據分佈的敏感性
3. 進行多重檢定時需要進行顯著性閾值調整
4. 解釋結果時需要考慮實際業務背景
